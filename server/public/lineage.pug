include partials/mailchimp.pug
include partials/google_analytics.pug

doctype html
html
    head
        +google-analytics-mixin()
        title Ganbreeder
        meta(charset="utf-8")
        meta(content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport")
        meta(property="og:title", content="Image from Ganbreeder")
        meta(property="og:description", content="An image generated by Ganbreeder.")
        meta(property="og:image", content=src=root+key+'.jpeg')
        meta(property="og:image:width", content="128")
        meta(property="og:image:height", content="128")
        meta(property="og:image:type", content="image/jpeg")
        meta(property="og:url", content='https://ganbreeder.app/i?k='+key)
        meta(name="twitter:card", content="summary")
        meta(name="twitter:creator", content="@_joelsimon")
        meta(name="twitter:text:title", content="Ganbreeder Image")
        meta(name="twitter:image", content=root+key+'.jpeg')
        meta(name="Description", content="A collaborative tool for discovering images.")

        link(href="index.css" rel="stylesheet" media="screen")
        style.
            .centered_image {
                text-align: center;
            }
            .centered_image a {

                display: inline-block;
                width: 100%;
            }
            img {
                max-width: 256px;
            }
    body
        header
            h1 Ganbreeder
            .text_container(style='text-align:center;')
                a.center(href='/', style='') Home
            h3 Image Lineage

        .centered_image
            a.imglink(href='/i?k='+key)
                img(src=root+key+'.jpeg')
            for image in parents
                a.imglink(href='/i?k='+image.key)
                    img(src=root+image.key+'.jpeg')

        .text_container
            +mailchimp-mixin()

        #footer
        script.
            const root = "#{root}"

        script(src="utils.js")
        //- script(src="image.js")
